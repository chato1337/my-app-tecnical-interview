(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,n){},26:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),c=n(19),u=n.n(c),s=(n(24),n(1)),o=n.n(s),i=n(4),l=n(6),j=(n(26),n(5)),f=n(7),p=n.n(f),d=function e(){Object(j.a)(this,e)};d.url="https://restcountries.eu/rest/v2/all";var b=function e(){Object(j.a)(this,e)};b.add=(b.url="https://young-escarpment-43192.herokuapp.com/")+"signup",b.get=b.url+"customers";var h=function e(){Object(j.a)(this,e)};h.getCountries=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(d.url);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));n(45);var m=n(8),O=n(9),v=function e(){Object(j.a)(this,e)};v.addNewCustomer=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t.name,email:"test@tst.me",password:"test123",role:"normal",country:t.country},e.next=3,p.a.post(b.add,n).then((function(e){return console.log("saved: ",t)})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v.getCustomers=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(b.get);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));var g=n(0),x=function(e){var t=e.setToggleReload,n=e.toggleReload,a=Object(r.useState)([]),c=Object(l.a)(a,2),u=c[0],s=c[1],j=function(e){var t=Object(r.useState)(e),n=Object(l.a)(t,2),a=n[0],c=n[1];return Object(O.a)({form:a,handleChange:function(e){var t=e.target,n=t.name,r=t.value;console.log(n,r),c(Object(O.a)(Object(O.a)({},a),{},Object(m.a)({},n,r)))}},a)}({name:"",country:"",active:!0}),f=j.form,p=j.handleChange,d=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getCountries();case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){d()}),[]);var b=function(){var e=Object(i.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),console.log(f),""!==f.name&&""!=f.country){e.next=4;break}return e.abrupt("return",alert("all the fields are required!"));case 4:return e.next=6,v.addNewCustomer(f);case 6:t(!n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"form-container",children:Object(g.jsxs)("form",{children:[Object(g.jsx)("label",{htmlFor:"",children:"Name:"}),Object(g.jsx)("input",{onChange:p,type:"text",name:"name",required:!0}),Object(g.jsx)("label",{htmlFor:"",children:"Country:"}),Object(g.jsxs)("select",{name:"country",onChange:p,required:!0,children:[Object(g.jsx)("option",{value:"",children:"select"}),u.map((function(e){return Object(g.jsx)("option",{value:e.name,children:e.name},e.name)}))]}),Object(g.jsx)("button",{onClick:function(e){return b(e)},children:"Add person"})]})})},w=function(e){var t=e.customers;return Object(g.jsx)("div",{children:Object(g.jsx)("ul",{children:t.map((function(e){return Object(g.jsxs)("li",{children:[e.username," - ",e.country||"colombia"]},e._id)}))})})};var y=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),u=Object(l.a)(c,2),s=u[0],j=u[1],f=function(){var e=Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getCustomers();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){f(),console.log("entro aca")}),[s]),Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)("h1",{children:"Tech prof"}),Object(g.jsx)(x,{setToggleReload:j,toggleReload:s}),Object(g.jsx)(w,{customers:n})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,u=t.getTTFB;n(e),r(e),a(e),c(e),u(e)}))};u.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root")),C()}},[[47,1,2]]]);
//# sourceMappingURL=main.1422c7f8.chunk.js.map